<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:Tile"
    xmlns:img="clr-namespace:Images;assembly=Images">

    <!-- Converter loading Image source from relative path (Tiles/Stone3.png) -->
    <img:IconPathConverter x:Key="iconPathConverter"/>

    <!-- Changing Button style to make Image act like a Button
        and assign a Command -->
    <Style TargetType="{x:Type Button}" x:Key="ImageButtonStyle">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Button}">
                    <ContentPresenter/>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Tile -->
    <Style TargetType="{x:Type local:Tile}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type local:Tile}">
                    <Button Style="{StaticResource ImageButtonStyle}" Command="{Binding TileClickCommand}">
                        <Image Height="70" Width="70" HorizontalAlignment="Center" VerticalAlignment="Center"
                           DataContext="{TemplateBinding Icon}" Source="{Binding Converter={StaticResource iconPathConverter}}"/>
                    </Button>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>
